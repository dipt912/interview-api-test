(this["webpackJsonpinterview-api-test"]=this["webpackJsonpinterview-api-test"]||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),c=(a(30),a(6)),u=a(7),l=a(12),o=a(11),h=(a.p,a(31),a(3)),p=a.n(h),m=a(8),d=a(13),j=a(10),v=a(23),b=a.n(v),f=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"init",value:function(){this.instance=b.a.create({baseURL:"https://my-json-server.typicode.com/jason-ogasian-walmart/interview-api",timeout:15e3,headers:{"Access-Control-Allow-Origin":"https://my-json-server.typicode.com/jason-ogasian-walmart/interview-api","Access-Control-Allow-Credentials":!0,"Content-Type":"application/json"}})}},{key:"getInstance",value:function(){return this.instance}},{key:"createRequest",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r,s,i,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method,n=void 0===a?"GET":a,r=t.url,s=t.params,i=void 0===s?null:s,c=t.data,u=void 0===c?null:c,e.prev=1,e.next=4,this.instance({method:n,url:r,data:u,params:i});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),console.log("error",e.t0),{message:"Network Error",stack:e.t0};case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.createRequest({url:"/user_create",method:"GET"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log("getEvents error",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("post ",t),e.next=4,f.createRequest({url:"/update_user",method:"POST",data:t});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("getEvents error",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=a(1),y=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"handleExtraField",value:function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;this.setState(Object(j.a)({},n,a)),this.props.handleInputChange(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.userTypes,n=t.user_types,r=t.extra_text_inputs,s=t.handleChange,i=r[n];return Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:" User Types: "}),Object(g.jsx)("select",{name:"user_types",value:n,onChange:s,children:a.map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))}),i&&i.length&&i.map((function(t,a){return Object(g.jsxs)("div",{className:"form-item",children:[Object(g.jsx)("label",{htmlFor:t.value,className:"form-item-label",children:t.label}),Object(g.jsx)("input",{className:"form-item-input",id:"Email",name:t.value,value:e.state[t.value]||"",onChange:e.handleExtraField.bind(e)})]},a)}))]})}}]),a}(n.Component),N=a(71),C=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){e.preventDefault();var t=e.target,a=t.value,r=t.name;n.setState(Object(j.a)({},r,a),(function(){n.forceUpdate()}))},n.handleExtraInputChange=function(e){e.preventDefault();var t=e.target,a=t.value,r={};r[t.name]=a,n.setState({extra_inputs:Object(d.a)({},r)},(function(){n.forceUpdate()}))},n.handleSubmit=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),O(n.buildRequest());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={LastName:"",FirstName:"",Email:"",user_types:"",userTypes:[],extra_text_inputs:{},isLoading:!1,extra_inputs:{}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,this.setState({userTypes:t.user_types,extra_text_inputs:t.extra_text_inputs});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"buildRequest",value:function(){var e={};return Object.keys(this.state.extra_inputs).length&&(e=this.state.extra_inputs),e=Object(d.a)(Object(d.a)({},e),{},{first_name:this.state.FirstName,last_name:this.state.LastName,email:this.state.Email,type:this.state.user_types}),console.log("req",e),e}},{key:"handleChange",value:function(e){var t=this,a=e.target.value;this.setState({user_types:a},(function(e){t.forceUpdate()}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.LastName,n=e.FirstName,r=e.Email,s=e.userTypes,i=e.extra_text_inputs,c=e.user_types;return Object(g.jsx)("div",{className:"form",children:Object(g.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"form-content",children:[Object(g.jsxs)("div",{className:"form-item",children:[Object(g.jsx)("label",{htmlFor:"lastName",className:"form-item-label",children:"Last Name"}),Object(g.jsx)("input",{className:"form-item-input",id:"lastName",name:"LastName",value:a,onChange:this.handleInputChange})]}),Object(g.jsxs)("div",{className:"form-item",children:[Object(g.jsx)("label",{htmlFor:"firstName",className:"form-item-label",children:"First Name"}),Object(g.jsx)("input",{className:"form-item-input",id:"firstName",name:"FirstName",value:n,onChange:this.handleInputChange})]}),Object(g.jsxs)("div",{className:"form-item",children:[Object(g.jsx)("label",{htmlFor:"Email",className:"form-item-label",children:"Email Address"}),Object(g.jsx)("input",{className:"form-item-input",id:"Email",name:"Email",value:r,onChange:this.handleInputChange})]}),s&&Object(g.jsx)(y,{userTypes:s,extra_text_inputs:i,user_types:c,handleChange:this.handleChange.bind(this),handleInputChange:this.handleExtraInputChange.bind(this)})]}),Object(g.jsx)("div",{className:"buttons-row",children:Object(g.jsx)(N.a,{variant:"contained",color:"primary",type:"submit",onClick:this.handleSubmit,disabled:t,children:"Submit"})})]})})}}]),a}(n.Component),_=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),f.init(),n}return Object(u.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("header",{className:"App-header",children:Object(g.jsx)("h4",{children:" Create User "})}),Object(g.jsx)(C,{})]})}}]),a}(n.Component),w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(_,{})}),document.getElementById("root")),w()}},[[56,1,2]]]);
//# sourceMappingURL=main.fc5842de.chunk.js.map